<!DOCTYPE html>
<html lang="en-US">
<head>
  <title>TDRP's Website - Settings</title>
        <meta charset="utf-8">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DotGothic16">
	<link rel="stylesheet" href="https://tdrbot.github.io/stylesheet.css">
  <link rel="icon" type="image/x-icon" href="https://tdrbot.github.io/favicon.ico">
  <script src="https://tdrbot.github.io/global.js"></script>
  </head>
  <body>
    <div style="position: fixed; float: right;">
      <div id="duration-change" style="border-left: yellow solid 10px;background: #ffffa3;color: black;text-align: left;padding: 5px;display: none;">
        <p>Successfully changed ad duration!</p>
      </div>
      <div id="ad-data-display-notif" style="border-left: yellow solid 10px;background: #ffffa3;color: black;text-align: left;padding: 5px;display: none;">
        <p>Successfully changed ad data display!</p>
      </div>
    </div>
  <center>
        <img src="https://tdrbot.github.io/images/main/WelcomeBanner.png">
	  <br>
  <br>
  <div class="topbar">
    <a href="https://tdrbot.github.io/"><button>Homepage</button></a>
    <a href="https://tdrbot.github.io/projects"><button>My Projects</button></a>
    <a href="https://tdrbot.github.io/about"><button>About</button></a>
    <a href="https://tdrbot.github.io/archive"><button>Website Archives</button></a>
    <a href="https://tdrbot.github.io/webring"><button>Webring</button></a>
  </div>  
  <br>
    <div class="container">
        <h1>Settings</h1>
      <hr>
      <h3>Input your name!</h3>
      <input id="name-input" type="text" value="User">
      <button type="submit" onclick="setName()">Confirm</button>
      <hr>
      <h3>Ad Settings</h3>
      <label for="ad-frequency">Ad Duration (milliseconds):</label>
      <input type="number" name="ad-frequency" placeholder="5000" id="ad-duration">
      <button type="submit" onclick="setDuration()">Confirm</button>
      <small style="display: block;"><i>To turn seconds to milliseconds, multiply seconds by 1000.</i></small>
      <br>
      <label for="autodisplayads">Automatically Display Ad Data</label>
      <input type="checkbox" name="autodisplayads" id="show-ad-data" onchange="displayAdData()">
      <hr>
      <br>
      <br>
      <br>
      <br>
      <br>
      <script>
        document.getElementById("name-input").value = getCookie("username");
        document.getElementById("ad-duration").value = getCookie("adfreq");
        if (getCookie("addatadisplay") == "true") {
          document.getElementById("ad-duration").checked = true;
        }

        function setName() {
            let name = document.getElementById("name-input").value;
            setCookie("username", name, 730);
            window.location.href = "https://tdrbot.github.io?msgbox=namechange";
        }

        function setDuration() {
          let duration = document.getElementById("ad-duration").value;
          setCookie("adfreq", duration, 730);
          window.location.href = "https://tdrbot.github.io/settings?msgbox=setdur";
        }

        function displayAdData() {
          let doaddata = document.getElementById("show-ad-data").checked;
          setCookie("addatadisplay", doaddata, 730);
          window.location.href = "https://tdrbot.github.io/settings?msgbox=showdata";
        }

        if (parameters.has('msgbox') && parameters.get("msgbox") == "setdur") {
          document.getElementById("duration-change").style.display = "block";
        }

        if (parameters.has('msgbox') && parameters.get("msgbox") == "showdata") {
          document.getElementById("ad-data-display-notif").style.display = "block";
        }
      </script>
    </div>
  </center>
</body>
</html>
