<!DOCTYPE html>
<html lang="en-US">
<head>
  <title>TDRP's Website - Settings</title>
        <meta charset="utf-8">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DotGothic16">
	<link rel="stylesheet" href="https://tdrbot.github.io/stylesheet.css">
  <link rel="icon" type="image/x-icon" href="https://tdrbot.github.io/favicon.ico">
  <script src="https://tdrbot.github.io/global.js"></script>
  </head>
  <body>
    <div style="position: fixed; float: right;">
      <!-- AD DURATION NOTIFICATION -->
      <div id="duration-change" style="border-left: yellow solid 10px;background: #ffffa3;color: black;text-align: left;padding: 5px;display: none;">
        <p>Successfully changed ad duration!</p>
      </div>
      <!-- ALWAYS SHOW AD DATA NOTIFICATION -->
      <div id="ad-data-display-notif" style="border-left: yellow solid 10px;background: #ffffa3;color: black;text-align: left;padding: 5px;display: none;">
        <p>Successfully changed ad data display!</p>
      </div>
      <!-- BETA FEATURE NOTIFICATION -->
      <div id="beta-feature-warn" style="border-left: rgb(255, 0, 0) solid 10px;background: #ffa3a3;color: black;text-align: left;padding: 5px;display: none;">
        <p>Warning! You've enabled beta features on my website.</p>
        <p>This means, you're enabling features that may not be ready<br>for a stable release! You <b>must</b> be aware that<br>there may be bugs...</p>
      </div>
    </div>
  <center>
        <img src="https://tdrbot.github.io/images/main/WelcomeBanner.png">
	  <br>
  <br>
  <div class="topbar">
    <a href="https://tdrbot.github.io/"><button>Homepage</button></a>
    <a href="https://tdrbot.github.io/projects"><button>My Projects</button></a>
    <a href="https://tdrbot.github.io/about"><button>About</button></a>
    <a href="https://tdrbot.github.io/archive"><button>Website Archives</button></a>
    <a href="https://tdrbot.github.io/webring"><button>Webring</button></a>
  </div>  
  <br>
    <div class="container">
        <h1>Settings</h1>
      <hr>
      <h3>Input your name!</h3>
      <input id="name-input" type="text" value="User">
      <button type="submit" onclick="setName()">Confirm</button>
      <hr>
      <h3>Ad Settings</h3>
      <label for="ad-frequency">Ad Duration (milliseconds):</label>
      <input type="number" name="ad-frequency" placeholder="5000" id="ad-duration">
      <button type="submit" onclick="setDuration()">Confirm</button>
      <small style="display: block;"><i>To turn seconds to milliseconds, multiply seconds by 1000.</i></small>
      <br>
      <label for="autodisplayads">Automatically Display Ad Data</label>
      <input type="checkbox" name="autodisplayads" id="show-ad-data" onchange="displayAdData()">
      <hr>
      <h3>Advanced Settings</h3>
      <label for="beta-features">Beta Features:</label>
      <input type="checkbox" name="beta-features" id="enable-beta-features">
      <br>
      <br>
      <br>
      <br>
      <br>
      <script>
        // SET VALUES AND SHIT
        document.getElementById("name-input").value = window.localStorage.getItem("username");
        document.getElementById("ad-duration").value = window.localStorage.getItem("adfreq");

        if (window.localStorage.getItem("betafeatures") == "true") {
          document.getElementById("enable-beta-features").checked = true;
        }

        // ENABLE SETTINGS AND STUFF
        function setName() {
            let name = document.getElementById("name-input").value;
            window.localStorage.setItem("username", name);
            window.location.href = "https://tdrbot.github.io?msgbox=namechange";
        }

        // SHOW MESSAGE BOXES AND SHIT
        function setDuration() {
          let duration = document.getElementById("ad-duration").value;
          window.localStorage.setItem("adfreq", duration);
          window.location.href = "https://tdrbot.github.io/settings?msgbox=setdur";
        }

        function displayAdData() {
          let doaddata = document.getElementById("show-ad-data").checked;
          window.localStorage.setItem("addatadisplay", doaddata)
          window.location.href = "https://tdrbot.github.io/settings?msgbox=showdata";
        }

        function betaFeatures() {
          let enable_beta = document.getElementById("enable-beta-features").checked;
          window.localStorage.setItem("betafeatures", enable_beta)
          window.location.href = "https://tdrbot.github.io/settings?msgbox=betawarn";
        }

        if (parameters.has('msgbox') && parameters.get("msgbox") == "setdur") {
          document.getElementById("duration-change").style.display = "block";
        }

        if (parameters.has('msgbox') && parameters.get("msgbox") == "showdata") {
          document.getElementById("ad-data-display-notif").style.display = "block";
        }

        if (parameters.has('msgbox') && parameters.get("msgbox") == "betawarn") {
          document.getElementById("beta-feature-warn").style.display = "block";
        }
      </script>
    </div>
  </center>
</body>
</html>
